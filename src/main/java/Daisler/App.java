/*
 * This Java source file was generated by the Gradle 'init' task.
 */
package Daisler;

import java.nio.file.*;
import java.nio.charset.*;
import java.nio.*;
import java.nio.file.attribute.FileAttribute;
import java.net.*;
import java.util.Date;

import javax.print.attribute.standard.JobKOctetsSupported;

import java.io.*; //webistecontent
import java.time.LocalDate;//Dates
import java.lang.*;
import org.jsoup.nodes.Document;


//import java.lang.Object;
import org.jsoup.*;
 

public class App{

    public void SaveFile(URL websiteURL, String path) throws IOException{

        String websiteContent = getContent(websiteURL).toString();
        // save content from website into Doc type
        contentIntoFile(path, websiteContent);
        //Should save the conent in the right file with right path/directory
    }
    
    private void contentIntoFile(String pathStr, String s)throws FileNotFoundException, IOException{//Auszugebener Tect in die Datei = out

        Date d = new Date();                
        String DateString = d.toString();
        //Date (for title) will turned into String
        //Sun Jan 03 15:31:52 CET 2021
        DateString = "/" + DateString + ".html";  
        //for the path will / added 
        
                
        //System.out.println("Datumspfad:" + DateString); 
        //System.out.println(" | ");       //for testing 2
        //System.out.println("Pfad als String(ohne Datum):"+ pathStr);//3
        
        pathStr = pathStr + DateString;
        System.out.println("pathStr: " + pathStr);
        Path path = Paths.get(pathStr);
        //turned path-String into path type

        Files.write(path, s.getBytes());
        // s =content as string will be written into location of path
        //it is also creatin a new file if it doesnt exist
        }

        private Document getContent(URL websiteURL) throws IOException{
            System.out.println("URLvonWeb:" + websiteURL);
            
            String websiteURLString = websiteURL.toString();
    
            Document doc = Jsoup.connect(websiteURLString).get();
            /*
            Date d = new Date();
            String dateString = d.toString(); 
            String title = dateString;
        
            System.out.println("DatrumAlsTitle:" + title);
            System.out.println(" | ")
            */
            return doc;
    
        }
}